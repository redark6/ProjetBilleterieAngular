<nz-comment nzAuthor="{{user.author}}" [nzDatetime]="time">
  <nz-avatar nz-comment-avatar nzIcon="user" [nzSrc]='user.avatar'></nz-avatar>
  <nz-comment-content>
    <p>
      {{commentContent}}
    </p>
  </nz-comment-content>
  <nz-comment-action >
    <span *ngIf="!isAuthenticate">
    <i nz-tooltip nzTitle="Like"  nz-icon nzType="like" [nzTheme]="likeState == 1 ? 'twotone' : 'outline'"
       nz-popover
       nzPopoverTitle="Vous aimez ?"
       [(nzPopoverVisible)]="likevisible"
       (nzPopoverVisibleChange)="change($event)"
       nzPopoverTrigger="click"
       [nzPopoverContent]="likepopover"></i>

      <ng-template #likepopover>
        <button class="ml-4" mat-raised-button color="primary" routerLink="/login">connexion</button>
      </ng-template>

    </span>

    <span *ngIf="isAuthenticate">
      <i nz-tooltip nzTitle="Like" nz-icon nzType="like" [nzTheme]="likeState == -1 ? 'twotone' : 'outline'"
         (click)="like()">
      </i>
    </span>

    <span class="count like">{{ likes }}</span>

  </nz-comment-action>
  <nz-comment-action>
    <span *ngIf="!isAuthenticate">
      <i nz-tooltip nzTitle="Dislike" nz-icon nzType="dislike" [nzTheme]="dislikes == -1 ? 'twotone' : 'outline'"
         nz-popover
         nzPopoverTitle="Vous n'aimez pas ?"
         [(nzPopoverVisible)]="dislikevisible"
         (nzPopoverVisibleChange)="change($event)"
         nzPopoverTrigger="click"
         [nzPopoverContent]="dislikepopover">
      </i>

      <ng-template #dislikepopover>
        <button class="ml-4" mat-raised-button color="primary" routerLink="/login">connexion</button>
      </ng-template>

    </span>
    <span *ngIf="isAuthenticate">
      <i nz-tooltip nzTitle="Dislike" nz-icon nzType="dislike" [nzTheme]="dislikes == -1 ? 'twotone' : 'outline'"
         (click)="dislike()">
      </i>
    </span>
    <span class="count dislike">{{ dislikes }}</span>
  </nz-comment-action>
  <nz-comment-action>Repondre</nz-comment-action>
  <ng-container *ngIf="comment.commentChildren && comment.commentChildren.length">
    <div *ngFor="let comment of comment.commentChildren">
      <app-comment [comment]="comment"></app-comment>
    </div>
  </ng-container>
</nz-comment>
<div class="divider"></div>
