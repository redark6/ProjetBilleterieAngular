<div>
  <div class="parent-container">
    <div>
      <img class="bg-img" src="data:image/webp;base64,{{eventImage}}" alt="profile image"/>
    </div>

    <div class="col-lg-4 bg-light">
      <div class="text-center">
        <h1> {{event.title}} </h1>
        <button class="buttonedit offset-md-2" *ngIf="isAuthenticate && isOwner==true " (click)="open(title)">
          <i class="fas fa-edit"></i>
        </button>
      </div>
      <hr/>
      <div class="row">
        <div class="col-lg-12 py-2">
          <h4>{{event.category}}</h4>
          <button class="buttonedit offset-md-2" *ngIf="isAuthenticate && isOwner==true" (click)="open(categorie)">
            <i class="fas fa-edit"></i>
          </button>
    <div class="container card-img-container" style="z-index: 500">
      <div class="row">
        <div class="">
          <img class="card-img" src="data:image/webp;base64,{{eventImage}}" alt="profile image"/>
        </div>

        <div class="title-container col-xl-8 col-lg-8 col-md-8 col-sm-8">
          <div class="row">
            <div class="col-xl-5 col-lg-5 col-md-6 col-sm-7 col-4">
              <!--
              <span>Note des utilisateurs </span>
              <br>

              <nz-rate [(ngModel)]="value" [nzAllowClear]="false" nzAllowHalf nzDisabled></nz-rate>
              -->
              <span class="myicone font-weight-bold">{{value + "/5"}} <i class="fas fa-star "></i></span>
            </div>

            <div class="col-xl-7 col-lg-7 col-md-5 col-sm-4 col-4 d-md-none">

              <div class="d-flex" style="position: absolute;bottom: 0">

                <ng-template #popContent>
                      <span class="myicone">
                        <div class="d-flex flex-row-reverse">
                      <div class="px-2">
                        <a class="twitter-share-button sharer "
                           href="https://twitter.com/intent/tweet?url={{urlTweet}}&hashtags=ticketheure" data-url="www.google.com" id="share-tw">
                            <i class="fa fa-twitter-square"></i>
                        </a>
                      </div>

                      <div class="px-2">
                        <a id="share-fb" href="http://www.facebook.com/sharer/sharer.php?u={{urlTweet}}&t=Jesaispas" target="_blank" class="share-popup sharer  fab fa-facebook-square">
                        </a>
                      </div>
                        </div>
                      </span>
                </ng-template>
                <button type="button" class="btn btn-outline-light btn-lg bg-blue" placement="top" [ngbPopover]="popContent">
                  Partager
                </button>

              </div>
            </div>

            <div class="col-xl-7 col-lg-7 col-md-5 col-sm-4 col-4 d-none d-md-block">
                  <span class="myicone">
                    <div class="d-flex flex-row-reverse">

                      <div class="px-2">
                        <a class="twitter-share-button sharer "
                           href="https://twitter.com/intent/tweet?url={{urlTweet}}&hashtags=ticketheure" data-url="www.google.com" id="share-tw">
                            <i class="fa fa-twitter-square"></i>
                        </a>
                      </div>

                      <div class="px-2">
                        <a id="share-fb" href="http://www.facebook.com/sharer/sharer.php?u={{urlTweet}}&t=Jesaispas" target="_blank" class="share-popup sharer  fab fa-facebook-square">
                        </a>
                      </div>

                    </div>

                  </span>
            </div>
          </div>
        </div>
        <div class="col-sm">
          <h4>Note des utilisateurs </h4>
          <nz-rate [(ngModel)]="value" [nzAllowClear]="false" nzAllowHalf nzDisabled></nz-rate>
        </div>

      </div>

    </div>

  </div>

  <div class="container pt-2">

    <div id="pricebar" class="container py-3 navbar fixed-bottom navbar-light bg-blue">

      <h2>Description</h2>
      <div>
        {{event.description}}
        <button class="buttonedit offset-md-2" *ngIf="isAuthenticate && isOwner==true" (click)="open(description)">
          <i class="fas fa-edit"></i>
        </button>
      </div>
      <h2 class="mb-1 font-weight-bold text-white">Prix: {{event.price + ' €'}} </h2>
      <h2 class="mb-1 font-weight-bold text-white">Places restantes: {{event.nbOfTicket}} </h2>
      <h2 class="m-0 p-0 litlesize "><button class="btn btn-outline-light btn-lg litlesize">Réserver</button></h2>
    </div>

    <div class="col-12 px-0 mx-0 pb-5">
      <span class="title ">{{event.title}}</span>
    </div>

    <div class="row mb-4">

      <div class="py-3 bg text-center">
        <h1>{{event.nbOfTicket}}</h1>
        <button class="buttonedit offset-md-2" *ngIf="isAuthenticate && isOwner==true" (click)="open(nbTicket)">
          <i class="fas fa-edit"></i>
        </button>
        <div>
          <h3>Restants</h3>
      <div class="col-lg-4 ">
        <div class="font-weight-bold">
          <span style="font-size: 35px">Informations</span>
        </div>


        <div class="row">
          <div class="col-lg-12 col-md-4 col-sm-6 col-6 py-2">
            <h5 class="mb-1 font-weight-bold">Date</h5>
            <h5> du {{event.startDate|date: 'dd/MM/yyyy'}} <br> au  {{event.endDate|date: 'dd/MM/yyyy'}}</h5>

          </div>

          <div class="col-lg-12 col-md-4 col-sm-6 col-6 py-2">
            <h5 class="mb-1 font-weight-bold">Localisation </h5>
            <h5><a style="color: #2e9fb3" (click)="gotomap()">{{region}}</a></h5>
          </div>

          <div class="col-lg-12 col-md-4 col-sm-6 col-6 py-2">
            <h5 class="mb-1 font-weight-bold">Type d'évènement</h5>
            <h5>{{categories[event.category]}}</h5>
          </div>

          <div class="col-lg-12 col-md-4 col-sm-6 col-6 py-2">
            <h5 class="mb-1 font-weight-bold">Organisateur</h5>
            <h5><a routerLink="" >orgaisateurfictif</a></h5>
          </div>

        </div>
      </div>

      <div class="col-lg-8 pl-lg-5">
        <span class="font-weight-bold" style="font-size: 35px">Présentation</span>
        <div>
          {{event.description}}
        </div>
      </div>

    </div>

    <div class="container">
      <div class="row">
        <div class="col-sm">
          <h5>Noter l'évènement</h5>
          <nz-rate [(ngModel)]="value2" [nzAllowClear]="false" (click)="rate()"></nz-rate>
        </div>

    <div id="map" style="width:100%;height:400px"></div>

    <div id="map_canvas" class="container">

      <div class="container py-2">
        <div class="row d-flex justify-content-center">
          <h5 class="pr-2 py-0 my-0">Noter l'évènement : </h5>
          <nz-rate class="mb-2" [(ngModel)]="value2" [nzAllowClear]="false" (click)="rate()"></nz-rate>
        </div>
      </div>

      <div id="comments">
        <app-event-comment [eventId]="this.event.id "></app-event-comment>
      </div>
    </div>


  <ng-template #title let-modal>
    <div class="modal-body" [formGroup]="updateEventForm">
    <input type="text" class="form-control" formControlName="title" placeholder="titre"/>

    <div class="modal-footer">
      <button  type="submit" class="btn btn-outline-primary" (click)="modal.close('Save click')">Enregistrer</button>
    </div>
    </div>
  </ng-template>

  <ng-template #categorie let-modal>
    <div class="modal-body" [formGroup]="updateEventForm">
    <input type="text" class="form-control" formControlName="category" placeholder="categorie"/>

    <div class="modal-footer">
      <button  type="submit" class="btn btn-outline-primary" (click)="modal.close('Save click')">Enregistrer</button>
    </div>
    </div>
  </ng-template>

  <ng-template #description let-modal>
    <div class="modal-body" [formGroup]="updateEventForm">
    <input type="text" class="form-control" formControlName="description" placeholder="Description"/>

    <div class="modal-footer">
      <button  type="submit" class="btn btn-outline-primary" (click)="modal.close('Save click')">Enregistrer</button>
    </div>
    </div>
  </ng-template>

  <ng-template #nbTicket let-modal>
    <div class="modal-body" [formGroup]="updateEventForm">
    <input type="text" class="form-control" formControlName="nbOfTicket" placeholder="Ticket restant"/>

    <div class="modal-footer">
      <button type="submit" class="btn btn-outline-primary" (click)="modal.close('Save click')">Enregistrer</button>
    </div>
    </div>
  </ng-template>

  <app-event-comment [eventId]="this.event.id"></app-event-comment>

  </div>
    </div>
      </div>
    </div>
  </div>
      </div>
    </div>
  </div>
</div>
